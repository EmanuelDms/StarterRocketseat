<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Módulo 2: Exercício 3 e 4</title>
</head>

<body>
  <input type="text" name="nome" placeholder="Insira um nome...">
  <button id="addLi">Adicionar</button>

  <!-- 3º Preencha uma lista (<ul>) no HTML com o vetor nome -->
  <!-- 4º Através do input e button, inserir um novo item na lista e, por consequência, ser exibido na lista não-ordenada. Apagar também o conteúdo do input após a inserção. -->
  <script>
    // var nome = ['Diego', "Mayke", 'João']
    var body = document.querySelector('body');
    var btn = document.querySelector('#addLi');
    var ul = document.createElement('ul');
    var nome = JSON.parse(localStorage.getItem('list_nomes')) || [];

    function renderLiOnUl() {
      ul.innerHTML = '';
      nome.forEach(element => {
        let li = document.createElement('li');
        let text = document.createTextNode(element);
        li.appendChild(text);
        ul.appendChild(li);
      });
    }

    function addLiToList() {
      let inputNome = document.querySelector('input[name="nome"]');

      nome.push(inputNome.value);
      inputNome.value = '';
      renderLiOnUl();
      saveToStorage();
    }

    function saveToStorage() {
      localStorage.setItem('list_nomes', JSON.stringify(nome));
    }

    body.appendChild(ul);
    renderLiOnUl();
    btn.onclick = addLiToList;
  </script>
</body>

</html>